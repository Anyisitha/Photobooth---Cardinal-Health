{"ast":null,"code":"import _slicedToArray from\"/Users/macuser/Desktop/pothoboot/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useEffect,useState}from'react';import CameraPhoto,{FACING_MODES}from'jslib-html5-camera-photo';import SettingsModal from'./SettingsModal';import'./cameraScreen.css';import'./animate.compat.css';//Variables de configuracion de enfoque y resolucion de la camara\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var facingMode=FACING_MODES.USER;var idealResolution={width:640,height:480};var CameraScreen=function CameraScreen(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isCameraReady=_useState2[0],setIsCameraReady=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),photoTaken=_useState4[0],setPhotoTaken=_useState4[1];var _useState5=useState('#'),_useState6=_slicedToArray(_useState5,2),imageToDownload=_useState6[0],setImageToDownload=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showModal=_useState8[0],setShowModal=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isTimerSet=_useState10[0],setIsTimerSet=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isFullScreen=_useState12[0],setIsFullScreen=_useState12[1];var _useState13=useState(3),_useState14=_slicedToArray(_useState13,2),counter=_useState14[0],setCounter=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),showCounter=_useState16[0],setShowCounter=_useState16[1];//Crear referencia para tomar el html de video\nvar videoRef=useRef();var cameraPhoto=new CameraPhoto(videoRef.current);useEffect(function(){//Instanciar la libreria e iniciar la camara\ncameraPhoto=new CameraPhoto(videoRef.current);startCamera(facingMode,idealResolution);if(window.innerWidth<1200){window.addEventListener(\"orientationchange\",function(e){var popUp=document.querySelector('.rotatePop');if(window.orientation==0){popUp.style.display='flex';}else{popUp.style.display='none';}});}},[]);var startCamera=function startCamera(idealFacingMode,idealResolution){cameraPhoto.startCamera(idealFacingMode,idealResolution).then(function(){console.log('camera is started !');setIsCameraReady(true);}).catch(function(error){alert(error);});};// Pintar foto en canvas\nvar displayPicture=function displayPicture(uri){var canvas=document.getElementById('photo');var ctx=canvas.getContext('2d');var image=new Image();image.onload=function(){ctx.drawImage(image,canvas.width*0.15,0,450,350);var frame=new Image();frame.onload=function(){ctx.drawImage(frame,0,0,650,350);setImageToDownload(canvas.toDataURL('image/jpg'));};frame.src='./assets/images/frame.png';};ctx.fillStyle=\"#000\";image.src=uri;};// Tomar la foto\nvar takePhoto=function takePhoto(){var config={sizeFactor:1};if(isTimerSet){//Cuando se activa el temporizador\nsetShowCounter(true);setTimeout(function(){setCounter(2);},1000);setTimeout(function(){setCounter(1);},2000);setTimeout(function(){var dataUri=cameraPhoto.getDataUri(config);displayPicture(dataUri);setPhotoTaken(true);},3000);}else{var dataUri=cameraPhoto.getDataUri(config);displayPicture(dataUri);setPhotoTaken(true);}};//Reiniciar camara \nvar restartCamera=function restartCamera(){// Limpiar canvas, contador de timer y volver a mostrar la camara\nsetPhotoTaken(false);setCounter(3);setShowCounter(false);var canvas=document.getElementById('photo');var ctx=canvas.getContext('2d');ctx.clearRect(0,0,canvas.width,canvas.height);};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-container_camera animated fadeIn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-poto1\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./assets/images/logo.png\"})}),/*#__PURE__*/_jsx(RotateDevicePop,{}),photoTaken&&/*#__PURE__*/_jsxs(\"h2\",{className:\"blue animated fadeInLeft\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pink\",children:\"\\xA1Te ves genial! \\u2588\\u2588\\u2588\\u2588\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2588\\u2588\\u2588\\u2588 Guarda tu foto\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-wrapper_camera\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"initial-img_camera\",style:{display:photoTaken?'none':'block'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"./assets/images/frame.png\",alt:\"marco\"}),/*#__PURE__*/_jsx(\"video\",{ref:videoRef,autoPlay:true}),showCounter&&/*#__PURE__*/_jsx(\"div\",{className:\"timer_camera\",children:counter})]}),/*#__PURE__*/_jsx(\"canvas\",{className:\"animated fadeIn\",id:\"photo\",width:\"650\",height:\"350\",style:{display:photoTaken?'block':'none'}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-poto\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./assets/images/foto2.png\"})}),!photoTaken?/*#__PURE__*/_jsx(\"div\",{className:\"btns-wrapper_camera\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-wrapper\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"settings-btn_camera\",onClick:function onClick(){return setShowModal(true);}}),/*#__PURE__*/_jsx(\"button\",{className:\"take-btn_camera\",onClick:takePhoto,disabled:!isCameraReady})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"btns-wrapper_camera\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"trie\",children:/*#__PURE__*/_jsx(\"button\",{className:\"try-btn_camera\",onClick:restartCamera})}),/*#__PURE__*/_jsx(\"div\",{className:\"guardar\",children:/*#__PURE__*/_jsx(\"a\",{id:\"download\",className:\"save-btn_camera\",download:\"selfie\",href:imageToDownload})})]})}),showModal&&/*#__PURE__*/_jsx(SettingsModal,{setShowModal:setShowModal,isTimerSet:isTimerSet,setIsTimerSet:setIsTimerSet,setIsFullScreen:setIsFullScreen,isFullScreen:isFullScreen})]});};var RotateDevicePop=function RotateDevicePop(){return/*#__PURE__*/_jsxs(\"div\",{className:\"rotatePop\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"icon-wrapper animated shakeX\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./assets/images/icon.png\",alt:\"rotate\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-box\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Por favor gira tu dispositivo\"})})]});};export default CameraScreen;","map":{"version":3,"sources":["/Users/macuser/Desktop/pothoboot/src/components/CameraScreen.js"],"names":["React","useRef","useEffect","useState","CameraPhoto","FACING_MODES","SettingsModal","facingMode","USER","idealResolution","width","height","CameraScreen","isCameraReady","setIsCameraReady","photoTaken","setPhotoTaken","imageToDownload","setImageToDownload","showModal","setShowModal","isTimerSet","setIsTimerSet","isFullScreen","setIsFullScreen","counter","setCounter","showCounter","setShowCounter","videoRef","cameraPhoto","current","startCamera","window","innerWidth","addEventListener","e","popUp","document","querySelector","orientation","style","display","idealFacingMode","then","console","log","catch","error","alert","displayPicture","uri","canvas","getElementById","ctx","getContext","image","Image","onload","drawImage","frame","toDataURL","src","fillStyle","takePhoto","config","sizeFactor","setTimeout","dataUri","getDataUri","restartCamera","clearRect","RotateDevicePop"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport CameraPhoto, { FACING_MODES } from 'jslib-html5-camera-photo';\r\n\r\nimport SettingsModal from './SettingsModal';\r\n\r\nimport './cameraScreen.css';\r\nimport './animate.compat.css';\r\n\r\n//Variables de configuracion de enfoque y resolucion de la camara\r\nconst facingMode = FACING_MODES.USER;\r\nconst idealResolution = { width: 640, height: 480 };\r\n\r\nconst CameraScreen = () => {\r\n\r\n    const [isCameraReady, setIsCameraReady] = useState(false);\r\n    const [photoTaken, setPhotoTaken] = useState(false);\r\n    const [imageToDownload, setImageToDownload] = useState('#');\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [isTimerSet, setIsTimerSet] = useState(false);\r\n    const [isFullScreen, setIsFullScreen] = useState(false);\r\n    const [counter, setCounter] = useState(3);\r\n    const [showCounter, setShowCounter] = useState(false);\r\n    \r\n\r\n    //Crear referencia para tomar el html de video\r\n    const videoRef = useRef();\r\n    let cameraPhoto = new CameraPhoto(videoRef.current);\r\n\r\n    useEffect(() => {\r\n        //Instanciar la libreria e iniciar la camara\r\n        cameraPhoto = new CameraPhoto(videoRef.current);\r\n        startCamera(facingMode, idealResolution);\r\n            \r\n        if(window.innerWidth < 1200) {\r\n            window.addEventListener(\"orientationchange\", (e) => {\r\n                const popUp = document.querySelector('.rotatePop');\r\n\r\n                if(window.orientation == 0) {\r\n                    popUp.style.display = 'flex';    \r\n                } else {\r\n                    popUp.style.display = 'none';\r\n                }\r\n            });\r\n        }\r\n\r\n    }, [])\r\n\r\n    const startCamera = (idealFacingMode, idealResolution) => {\r\n        cameraPhoto.startCamera(idealFacingMode, idealResolution)\r\n            .then(() => {\r\n                console.log('camera is started !');\r\n                setIsCameraReady(true);\r\n            })\r\n            .catch((error) => {\r\n                alert(error);\r\n            });\r\n    }\r\n\r\n    // Pintar foto en canvas\r\n    const displayPicture = (uri) => {\r\n\r\n        const canvas = document.getElementById('photo');\r\n        const ctx = canvas.getContext('2d');\r\n    \r\n        const image = new Image();\r\n        \r\n        image.onload = function() {\r\n            ctx.drawImage(image, canvas.width * 0.15, 0, 450, 350);\r\n\r\n            const frame = new Image();\r\n        \r\n            frame.onload = function() {\r\n                ctx.drawImage(frame, 0, 0, 650, 350);\r\n                setImageToDownload(canvas.toDataURL('image/jpg'));\r\n            };\r\n\r\n            frame.src = './assets/images/frame.png';\r\n        };\r\n        ctx.fillStyle = \"#000\"\r\n        image.src = uri;\r\n\r\n    };\r\n\r\n    // Tomar la foto\r\n    const takePhoto = () => {\r\n        const config = {\r\n            sizeFactor: 1\r\n        };\r\n\r\n        if(isTimerSet) { //Cuando se activa el temporizador\r\n\r\n            setShowCounter(true);\r\n\r\n            setTimeout(() => { setCounter(2) }, 1000);\r\n            setTimeout(() => { setCounter(1) }, 2000);\r\n\r\n            setTimeout(() => {\r\n                const dataUri = cameraPhoto.getDataUri(config);\r\n                \r\n                displayPicture(dataUri);\r\n                setPhotoTaken(true);\r\n            }, 3000);\r\n        } else {\r\n            const dataUri = cameraPhoto.getDataUri(config);\r\n            \r\n            displayPicture(dataUri);\r\n            setPhotoTaken(true);\r\n        }\r\n    }\r\n\r\n    //Reiniciar camara \r\n    const restartCamera = () => {\r\n        // Limpiar canvas, contador de timer y volver a mostrar la camara\r\n        setPhotoTaken(false);\r\n        setCounter(3);\r\n        setShowCounter(false);\r\n\r\n        const canvas = document.getElementById('photo');\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    };\r\n\r\n    return (\r\n        \r\n        \r\n        <div className=\"main-container_camera animated fadeIn\">\r\n            <div className='logo-poto1'>\r\n                <img src=\"./assets/images/logo.png\" />\r\n            </div>\r\n            <RotateDevicePop />\r\n            \r\n            {\r\n                photoTaken && \r\n                <h2 className=\"blue animated fadeInLeft\">\r\n                    <span className=\"pink\">¡Te ves genial! ████</span> <br />\r\n                    ████ Guarda tu foto\r\n                </h2>\r\n            }\r\n\r\n            <div className=\"video-wrapper_camera\">\r\n                <div \r\n                    className=\"initial-img_camera\"\r\n                    style={{ display: photoTaken ? 'none' : 'block' }}\r\n                >\r\n                    <img src=\"./assets/images/frame.png\" alt=\"marco\"/>\r\n                    <video\r\n                        ref={videoRef}\r\n                        autoPlay={true}\r\n                    />\r\n                    \r\n                    {\r\n                        (showCounter) &&\r\n                        <div className=\"timer_camera\">\r\n                            { counter }\r\n                        </div>\r\n                    }\r\n                </div>\r\n\r\n                <canvas \r\n                    className=\"animated fadeIn\"\r\n                    id=\"photo\" \r\n                    width=\"650\" \r\n                    height=\"350\"\r\n                    style={{ display: photoTaken ? 'block' : 'none' }}\r\n                ></canvas>\r\n            </div>\r\n            <div className='logo-poto'>\r\n                <img src=\"./assets/images/foto2.png\" />\r\n            </div>\r\n\r\n            {\r\n                !photoTaken \r\n                ?\r\n                    <div className=\"btns-wrapper_camera\">\r\n                        <div className=\"div-wrapper\">\r\n                            <button\r\n                                className=\"settings-btn_camera\"\r\n                                onClick={() => setShowModal(true)}\r\n                            ></button>\r\n                            <button\r\n                                className=\"take-btn_camera\"\r\n                                onClick={ takePhoto }\r\n                                disabled={ !isCameraReady }\r\n                            ></button>\r\n                        </div>\r\n                    </div>\r\n                :\r\n                    <div className=\"btns-wrapper_camera\">\r\n                        <div className=\"div-wrapper\">\r\n                            <div className='trie'>\r\n                                <button\r\n                                    className=\"try-btn_camera\"\r\n                                    onClick={ restartCamera }\r\n                                    ></button>\r\n                                {/* <p className=\"blue\">Descarta esta foto <br /> e intenta de nuevo</p> */}\r\n                            </div>\r\n                            <div className='guardar'>\r\n                                <a\r\n                                    id=\"download\"\r\n                                    className=\"save-btn_camera\"\r\n                                    download=\"selfie\"\r\n                                    href={ imageToDownload }\r\n                                ></a>\r\n                                {/* <p className=\"pink\">Guarda tu foto</p> */}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    \r\n            }\r\n\r\n            {/* MODAL DE CONFIGURACIONES */}\r\n            {\r\n                showModal &&\r\n                <SettingsModal \r\n                    setShowModal={ setShowModal } \r\n                    isTimerSet={ isTimerSet }\r\n                    setIsTimerSet={ setIsTimerSet }\r\n                    setIsFullScreen={ setIsFullScreen }\r\n                    isFullScreen={ isFullScreen }\r\n                />\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RotateDevicePop = () => {\r\n    return (\r\n        <div className=\"rotatePop\">\r\n            <div className=\"icon-box\">\r\n                <div className=\"icon-wrapper animated shakeX\">\r\n                    <img src=\"./assets/images/icon.png\" alt=\"rotate\"/>\r\n                </div>\r\n            </div>\r\n            <div className=\"text-box\">\r\n                <p>\r\n                    Por favor gira tu dispositivo\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default CameraScreen;\r\n"]},"metadata":{},"sourceType":"module"}